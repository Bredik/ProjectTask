# Pixel Battles
## Постановка задачи
Дана карта 100х100, реализовано REST API для окрашивания клетки в цвет.
Исходно карта выполнена в виде одномерного массива и доступ к нему осуществляется из критической секции.

Требуется оптимизировать конкурентный доступ к карте. Структуру данных для хранения поля можно изменить по вашему усмотрению.

Помимо технической реализации проекта, потребуется ниже описать вашу идею оптимизации и примененные техники.

В тестах приведен пример нагрузочного тестирования. Прежде чем приступать к заданию, стоит замерить производительность образца.
И затем сравнивать результаты после оптимизации.

## Описание идеи
Меняем блокировку методов целиком на потокобезопасные структруры данных

Вместо boolean isChanged на AtomicBoolean isChanged

Вместо int[] colors на ConcurrentHashMap colors

Почему ConcurrentHashMap? -> Отсутствие блокировок на чтение, операции записи так же возможны без блокировок

Так же уменьшила кол-во потоков, так как большая часть из созданных потоков простаивает. Но тут конечно, надо смотреть на максимально возможную нагрузку на наш сервис

Прирост скорости, правда, в итоге не большой - около 10% в среднем

![](./screen.png)